================================================================================
SSL CERTIFICATE CHAIN INSTALLATION FOR BOMBAYENGG.NET
================================================================================

WHAT WAS EXTRACTED:
- bombayengg_net.crt (your domain certificate)
- SectigoPublicServerAuthenticationCADVR36.crt (intermediate CA)
- SectigoPublicServerAuthenticationRootR46_USERTrust.crt (intermediate root)
- USERTrustRSACertificationAuthority.crt (root CA)

PROBLEM BEING FIXED:
Your SSL certificate chain was incomplete, causing external validators to fail
with "SSL certificate problem: unable to get local issuer certificate"

SOLUTION:
Install the complete certificate chain so all intermediate certificates are
included.

================================================================================
OPTION 1: AUTOMATIC INSTALLATION (RECOMMENDED)
================================================================================

If you have SSH/Terminal access to your server:

1. SSH into your server as root or a user with sudo access
2. Run this command:

   sudo bash /home/bombayengg/public_html/install_ssl_certificate.sh

3. The script will:
   ✓ Back up current certificates
   ✓ Create the complete certificate chain
   ✓ Install to both Virtualmin and Webmin directories
   ✓ Restart Apache automatically
   ✓ Show verification steps

4. Verify installation:

   openssl s_client -connect www.bombayengg.net:443 -servername www.bombayengg.net 2>&1 | grep "depth="

   You should see three "depth=" lines (0, 1, 2)

================================================================================
OPTION 2: MANUAL INSTALLATION VIA VIRTUALMIN WEB INTERFACE
================================================================================

If you prefer to use the web interface:

1. Log into Virtualmin:
   https://yourdomain.com:10000
   (or https://your-server-ip:10000)

2. Navigate to:
   - Click on your domain: "bombayengg.net"
   - Go to: "Server Configuration" → "SSL Certificate"

3. Look for these fields:
   - Certificate File: Should show your current certificate
   - Private Key File: Leave as is
   - CA Certificate / Certificate Chain: THIS IS WHAT NEEDS UPDATING

4. In the "CA Certificate" or "Certificate Chain" field, paste:
   - Open: CERTIFICATE_CHAIN_TO_INSTALL.txt
   - Copy everything between "---BEGIN COPY HERE---" and "---END COPY HERE---"
   - Paste into the CA Certificate field in Virtualmin

5. Click: "Save" or "Install" or "Update"

6. If prompted, allow Apache to restart

7. Verify: Go to https://www.bombayengg.net/ and check if HTTPS works without warnings

================================================================================
VERIFICATION AFTER INSTALLATION
================================================================================

To verify the complete chain is installed, run:

openssl s_client -connect www.bombayengg.net:443 -servername www.bombayengg.net 2>&1 | grep "depth="

Expected output:
  depth=2 CN=...  (root certificate)
  depth=1 CN=...  (intermediate certificate)
  depth=0 CN=bombayengg.net  (your domain certificate)

If you see all three lines, the installation was successful!

================================================================================
TEST WITH EXTERNAL VALIDATORS
================================================================================

After installation, test that external sites can now validate your certificate:

1. Use an online SSL checker:
   - https://www.sslshopper.com/ssl-checker.html
   - Enter: www.bombayengg.net
   - Should show: "Certificate OK" with green checkmarks

2. Check your LLM validation file:
   - https://www.bombayengg.net/llms.txt
   - Should be accessible without SSL errors

================================================================================
ROLLBACK (IF NEEDED)
================================================================================

If something goes wrong, you can restore the backup:

1. SSH into your server as root

2. Find the backup (the script shows the timestamp):
   ls -la /etc/ssl/virtualmin/174704938526080/ssl.cert.backup.*

3. Restore it:
   cp /etc/ssl/virtualmin/174704938526080/ssl.cert.backup.YYYYMMDD_HHMMSS /etc/ssl/virtualmin/174704938526080/ssl.cert

4. Restart Apache:
   systemctl restart httpd
   OR
   service httpd restart

================================================================================
SUPPORT
================================================================================

If you have issues:

1. Check the error log:
   tail -f /var/log/httpd/ssl_error_log
   OR
   tail -f /var/log/apache2/ssl_error_log

2. Verify file permissions:
   ls -la /etc/ssl/virtualmin/174704938526080/

3. Check certificate validity:
   openssl x509 -in /etc/ssl/virtualmin/174704938526080/ssl.cert -text -noout

================================================================================
